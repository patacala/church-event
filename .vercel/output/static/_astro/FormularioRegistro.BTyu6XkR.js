import{j as Q}from"./jsx-runtime.D_zvdyIk.js";import{r as Re}from"./index.DiEladB3.js";import{u as at,i as st}from"./supabase.DbXX_ZRQ.js";function ft(_,S){return S.forEach((function(j){j&&typeof j!="string"&&!Array.isArray(j)&&Object.keys(j).forEach((function(d){if(d!=="default"&&!(d in _)){var e=Object.getOwnPropertyDescriptor(j,d);Object.defineProperty(_,d,e.get?e:{enumerable:!0,get:function(){return j[d]}})}}))})),Object.freeze(_)}function $e(_,S){return new Promise((function(j,d){let e;return lt(_).then((function(t){try{return e=t,j(new Blob([S.slice(0,2),e,S.slice(2)],{type:"image/jpeg"}))}catch(l){return d(l)}}),d)}))}const lt=_=>new Promise(((S,j)=>{const d=new FileReader;d.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return j("not a valid JPEG");for(l+=2;;){const s=t.getUint16(l);if(s===65498)break;const m=t.getUint16(l+2);if(s===65505&&t.getUint32(l+4)===1165519206){const v=l+10;let n;switch(t.getUint16(v)){case 18761:n=!0;break;case 19789:n=!1;break;default:return j("TIFF header contains invalid endian")}if(t.getUint16(v+2,n)!==42)return j("TIFF header contains invalid version");const i=t.getUint32(v+4,n),r=v+i+2+12*t.getUint16(v+i,n);for(let a=v+i+2;a<r;a+=12)if(t.getUint16(a,n)==274){if(t.getUint16(a+2,n)!==3)return j("Orientation data type is invalid");if(t.getUint32(a+4,n)!==1)return j("Orientation data count is invalid");t.setUint16(a+8,1,n);break}return S(e.slice(l,l+2+m))}l+=2+m}return S(new Blob)})),d.readAsArrayBuffer(_)}));var Pe={},ct={get exports(){return Pe},set exports(_){Pe=_}};(function(_){var S,j,d={};ct.exports=d,d.parse=function(e,t){for(var l=d.bin.readUshort,s=d.bin.readUint,m=0,v={},n=new Uint8Array(e),i=n.length-4;s(n,i)!=101010256;)i--;m=i,m+=4;var r=l(n,m+=4);l(n,m+=2);var a=s(n,m+=2),h=s(n,m+=4);m+=4,m=h;for(var x=0;x<r;x++){s(n,m),m+=4,m+=4,m+=4,s(n,m+=4),a=s(n,m+=4);var C=s(n,m+=4),w=l(n,m+=4),L=l(n,m+2),T=l(n,m+4);m+=6;var I=s(n,m+=8);m+=4,m+=w+L+T,d._readLocal(n,I,v,a,C,t)}return v},d._readLocal=function(e,t,l,s,m,v){var n=d.bin.readUshort,i=d.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=n(e,t+=8),h=n(e,t+=2);t+=2;var x=d.bin.readUTF8(e,t,a);if(t+=a,t+=h,v)l[x]={size:m,csize:s};else{var C=new Uint8Array(e.buffer,t);if(r==0)l[x]=new Uint8Array(C.buffer.slice(t,t+s));else{if(r!=8)throw"unknown compression method: "+r;var w=new Uint8Array(m);d.inflateRaw(C,w),l[x]=w}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[l]=120,s[l+1]=156,l+=2,l=d.F.deflateRaw(e,s,l,t.level);var m=d.adler(e,0,e.length);return s[l+0]=m>>>24&255,s[l+1]=m>>>16&255,s[l+2]=m>>>8&255,s[l+3]=m>>>0&255,new Uint8Array(s.buffer,0,l+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),s=d.F.deflateRaw(e,l,s,t.level);return new Uint8Array(l.buffer,0,s)},d.encode=function(e,t){t==null&&(t=!1);var l=0,s=d.bin.writeUint,m=d.bin.writeUshort,v={};for(var n in e){var i=!d._noNeed(n)&&!t,r=e[n],a=d.crc.crc(r,0,r.length);v[n]={cpr:i,usize:r.length,crc:a,file:i?d.deflateRaw(r):r}}for(var n in v)l+=v[n].file.length+30+46+2*d.bin.sizeUTF8(n);l+=22;var h=new Uint8Array(l),x=0,C=[];for(var n in v){var w=v[n];C.push(x),x=d._writeHeader(h,x,n,w,0)}var L=0,T=x;for(var n in v)w=v[n],C.push(x),x=d._writeHeader(h,x,n,w,1,C[L++]);var I=x-T;return s(h,x,101010256),x+=4,m(h,x+=4,L),m(h,x+=2,L),s(h,x+=2,I),s(h,x+=4,T),x+=4,x+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,l,s,m,v){var n=d.bin.writeUint,i=d.bin.writeUshort,r=s.file;return n(e,t,m==0?67324752:33639248),t+=4,m==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,s.cpr?8:0),n(e,t+=2,0),n(e,t+=4,s.crc),n(e,t+=4,r.length),n(e,t+=4,s.usize),i(e,t+=4,d.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,m==1&&(t+=2,t+=2,n(e,t+=6,v),t+=4),t+=d.bin.writeUTF8(e,t,l),m==0&&(e.set(r,t),t+=r.length),t},d.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e})(),update:function(e,t,l,s){for(var m=0;m<s;m++)e=d.crc.table[255&(e^t[l+m])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^d.crc.update(4294967295,e,t,l)}},d.adler=function(e,t,l){for(var s=1,m=0,v=t,n=t+l;v<n;){for(var i=Math.min(v+5552,n);v<i;)m+=s+=e[v++];s%=65521,m%=65521}return m<<16|s},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var s="",m=0;m<l;m++)s+=String.fromCharCode(e[t+m]);return s},writeASCII:function(e,t,l){for(var s=0;s<l.length;s++)e[t+s]=l.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var s,m="",v=0;v<l;v++)m+="%"+d.bin.pad(e[t+v].toString(16));try{s=decodeURIComponent(m)}catch{return d.bin.readASCII(e,t,l)}return s},writeUTF8:function(e,t,l){for(var s=l.length,m=0,v=0;v<s;v++){var n=l.charCodeAt(v);if((4294967168&n)==0)e[t+m]=n,m++;else if((4294965248&n)==0)e[t+m]=192|n>>6,e[t+m+1]=128|n>>0&63,m+=2;else if((4294901760&n)==0)e[t+m]=224|n>>12,e[t+m+1]=128|n>>6&63,e[t+m+2]=128|n>>0&63,m+=3;else{if((4292870144&n)!=0)throw"e";e[t+m]=240|n>>18,e[t+m+1]=128|n>>12&63,e[t+m+2]=128|n>>6&63,e[t+m+3]=128|n>>0&63,m+=4}}return m},sizeUTF8:function(e){for(var t=e.length,l=0,s=0;s<t;s++){var m=e.charCodeAt(s);if((4294967168&m)==0)l++;else if((4294965248&m)==0)l+=2;else if((4294901760&m)==0)l+=3;else{if((4292870144&m)!=0)throw"e";l+=4}}return l}},d.F={},d.F.deflateRaw=function(e,t,l,s){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],v=d.F.U,n=d.F._goodIndex;d.F._hash;var i=d.F._putsE,r=0,a=l<<3,h=0,x=e.length;if(s==0){for(;r<x;)i(t,a,r+(A=Math.min(65535,x-r))==x?1:0),a=d.F._copyExact(e,r,A,t,a+8),r+=A;return a>>>3}var C=v.lits,w=v.strt,L=v.prev,T=0,I=0,N=0,g=0,R=0,c=0;for(x>2&&(w[c=d.F._hash(e,0)]=0),r=0;r<x;r++){if(R=c,r+1<x-2){c=d.F._hash(e,r+1);var f=r+1&32767;L[f]=w[c],w[c]=f}if(h<=r){(T>14e3||I>26697)&&x-r>100&&(h<r&&(C[T]=r-h,T+=2,h=r),a=d.F._writeBlock(r==x-1||h==x?1:0,C,T,g,e,N,r-N,t,a),T=I=g=0,N=r);var b=0;r<x-2&&(b=d.F._bestMatch(e,r,L,R,Math.min(m[2],x-r),m[3]));var A=b>>>16,y=65535&b;if(b!=0){y=65535&b;var U=n(A=b>>>16,v.of0);v.lhst[257+U]++;var p=n(y,v.df0);v.dhst[p]++,g+=v.exb[U]+v.dxb[p],C[T]=A<<23|r-h,C[T+1]=y<<16|U<<8|p,T+=2,h=r+A}else v.lhst[e[r]]++;I++}}for(N==r&&e.length!=0||(h<r&&(C[T]=r-h,T+=2,h=r),a=d.F._writeBlock(1,C,T,g,e,N,r-N,t,a),T=0,I=0,T=I=g=0,N=r);(7&a)!=0;)a++;return a>>>3},d.F._bestMatch=function(e,t,l,s,m,v){var n=32767&t,i=l[n],r=n-i+32768&32767;if(i==n||s!=d.F._hash(e,t-r))return 0;for(var a=0,h=0,x=Math.min(32767,t);r<=x&&--v!=0&&i!=n;){if(a==0||e[t+a]==e[t+a-r]){var C=d.F._howLong(e,t,r);if(C>a){if(h=r,(a=C)>=m)break;r+2<C&&(C=r+2);for(var w=0,L=0;L<C-2;L++){var T=t-r+L+32768&32767,I=T-l[T]+32768&32767;I>w&&(w=I,i=T)}}}r+=(n=i)-(i=l[n])+32768&32767}return a<<16|h},d.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var s=t,m=Math.min(e.length,t+258);for(t+=3;t<m&&e[t]==e[t-l];)t++;return t-s},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,l,s,m,v,n,i,r){var a,h,x,C,w,L,T,I,N,g=d.F.U,R=d.F._putsF,c=d.F._putsE;g.lhst[256]++,h=(a=d.F.getTrees())[0],x=a[1],C=a[2],w=a[3],L=a[4],T=a[5],I=a[6],N=a[7];var f=32+((r+3&7)==0?0:8-(r+3&7))+(n<<3),b=s+d.F.contSize(g.fltree,g.lhst)+d.F.contSize(g.fdtree,g.dhst),A=s+d.F.contSize(g.ltree,g.lhst)+d.F.contSize(g.dtree,g.dhst);A+=14+3*T+d.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var y=0;y<286;y++)g.lhst[y]=0;for(y=0;y<30;y++)g.dhst[y]=0;for(y=0;y<19;y++)g.ihst[y]=0;var U=f<b&&f<A?0:b<A?1:2;if(R(i,r,e),R(i,r+1,U),r+=3,U==0){for(;(7&r)!=0;)r++;r=d.F._copyExact(m,v,n,i,r)}else{var p,E;if(U==1&&(p=g.fltree,E=g.fdtree),U==2){d.F.makeCodes(g.ltree,h),d.F.revCodes(g.ltree,h),d.F.makeCodes(g.dtree,x),d.F.revCodes(g.dtree,x),d.F.makeCodes(g.itree,C),d.F.revCodes(g.itree,C),p=g.ltree,E=g.dtree,c(i,r,w-257),c(i,r+=5,L-1),c(i,r+=5,T-4),r+=4;for(var u=0;u<T;u++)c(i,r+3*u,g.itree[1+(g.ordr[u]<<1)]);r+=3*T,r=d.F._codeTiny(I,g.itree,i,r),r=d.F._codeTiny(N,g.itree,i,r)}for(var o=v,k=0;k<l;k+=2){for(var F=t[k],P=F>>>23,z=o+(8388607&F);o<z;)r=d.F._writeLit(m[o++],p,i,r);if(P!=0){var H=t[k+1],D=H>>16,O=H>>8&255,M=255&H;c(i,r=d.F._writeLit(257+O,p,i,r),P-g.of0[O]),r+=g.exb[O],R(i,r=d.F._writeLit(M,E,i,r),D-g.df0[M]),r+=g.dxb[M],o+=P}}r=d.F._writeLit(256,p,i,r)}return r},d.F._copyExact=function(e,t,l,s,m){var v=m>>>3;return s[v]=l,s[v+1]=l>>>8,s[v+2]=255-s[v],s[v+3]=255-s[v+1],v+=4,s.set(new Uint8Array(e.buffer,t,l),v),m+(l+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),l=d.F._hufTree(e.dhst,e.dtree,15),s=[],m=d.F._lenCodes(e.ltree,s),v=[],n=d.F._lenCodes(e.dtree,v),i=0;i<s.length;i+=2)e.ihst[s[i]]++;for(i=0;i<v.length;i+=2)e.ihst[v[i]]++;for(var r=d.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,l,r,m,n,a,s,v]},d.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},d.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},d.F.contSize=function(e,t){for(var l=0,s=0;s<t.length;s++)l+=t[s]*e[1+(s<<1)];return l},d.F._codeTiny=function(e,t,l,s){for(var m=0;m<e.length;m+=2){var v=e[m],n=e[m+1];s=d.F._writeLit(v,t,l,s);var i=v==16?2:v==17?3:7;v>15&&(d.F._putsE(l,s,n,i),s+=i)}return s},d.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var m=e[s+1],v=s+3<l?e[s+3]:-1,n=s+5<l?e[s+5]:-1,i=s==0?-1:e[s-1];if(m==0&&v==m&&n==m){for(var r=s+5;r+2<l&&e[r+2]==m;)r+=2;(a=Math.min(r+1-s>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),s+=2*a-2}else if(m==i&&v==m&&n==m){for(r=s+5;r+2<l&&e[r+2]==m;)r+=2;var a=Math.min(r+1-s>>>1,6);t.push(16,a-3),s+=2*a-2}else t.push(m,0)}return l>>>1},d.F._hufTree=function(e,t,l){var s=[],m=e.length,v=t.length,n=0;for(n=0;n<v;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<m;n++)e[n]!=0&&s.push({lit:n,f:e[n]});var i=s.length,r=s.slice(0);if(i==0)return 0;if(i==1){var a=s[0].lit;return r=a==0?1:0,t[1+(a<<1)]=1,t[1+(r<<1)]=1,1}s.sort((function(I,N){return I.f-N.f}));var h=s[0],x=s[1],C=0,w=1,L=2;for(s[0]={lit:-1,f:h.f+x.f,l:h,r:x,d:0};w!=i-1;)h=C!=w&&(L==i||s[C].f<s[L].f)?s[C++]:s[L++],x=C!=w&&(L==i||s[C].f<s[L].f)?s[C++]:s[L++],s[w++]={lit:-1,f:h.f+x.f,l:h,r:x};var T=d.F.setDepth(s[w-1],0);for(T>l&&(d.F.restrictDepth(r,l,T),T=l),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return T},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,l){var s=0,m=1<<l-t,v=0;for(e.sort((function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d})),s=0;s<e.length&&e[s].d>t;s++){var n=e[s].d;e[s].d=t,v+=m-(1<<l-n)}for(v>>>=l-t;v>0;)(n=e[s].d)<t?(e[s].d++,v-=1<<t-n-1):s++;for(;s>=0;s--)e[s].d==t&&v<0&&(e[s].d--,v++);v!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},d.F._writeLit=function(e,t,l,s){return d.F._putsF(l,s,t[e<<1]),s+t[1+(e<<1)]},d.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var s=d.F,m=s._bitsF,v=s._bitsE,n=s._decodeTiny,i=s.makeCodes,r=s.codes2map,a=s._get17,h=s.U,x=t==null;x&&(t=new l(e.length>>>2<<3));for(var C,w,L=0,T=0,I=0,N=0,g=0,R=0,c=0,f=0,b=0;L==0;)if(L=m(e,b,1),T=m(e,b+1,2),b+=3,T!=0){if(x&&(t=d.F._check(t,f+(1<<17))),T==1&&(C=h.flmap,w=h.fdmap,R=511,c=31),T==2){I=v(e,b,5)+257,N=v(e,b+5,5)+1,g=v(e,b+10,4)+4,b+=14;for(var A=0;A<38;A+=2)h.itree[A]=0,h.itree[A+1]=0;var y=1;for(A=0;A<g;A++){var U=v(e,b+3*A,3);h.itree[1+(h.ordr[A]<<1)]=U,U>y&&(y=U)}b+=3*g,i(h.itree,y),r(h.itree,y,h.imap),C=h.lmap,w=h.dmap,b=n(h.imap,(1<<y)-1,I+N,e,b,h.ttree);var p=s._copyOut(h.ttree,0,I,h.ltree);R=(1<<p)-1;var E=s._copyOut(h.ttree,I,N,h.dtree);c=(1<<E)-1,i(h.ltree,p),r(h.ltree,p,C),i(h.dtree,E),r(h.dtree,E,w)}for(;;){var u=C[a(e,b)&R];b+=15&u;var o=u>>>4;if(!(o>>>8))t[f++]=o;else{if(o==256)break;var k=f+o-254;if(o>264){var F=h.ldef[o-257];k=f+(F>>>3)+v(e,b,7&F),b+=7&F}var P=w[a(e,b)&c];b+=15&P;var z=P>>>4,H=h.ddef[z],D=(H>>>4)+m(e,b,15&H);for(b+=15&H,x&&(t=d.F._check(t,f+(1<<17)));f<k;)t[f]=t[f++-D],t[f]=t[f++-D],t[f]=t[f++-D],t[f]=t[f++-D];f=k}}}else{(7&b)!=0&&(b+=8-(7&b));var O=4+(b>>>3),M=e[O-4]|e[O-3]<<8;x&&(t=d.F._check(t,f+M)),t.set(new l(e.buffer,e.byteOffset+O,M),f),b=O+M<<3,f+=M}return t.length==f?t:t.slice(0,f)},d.F._check=function(e,t){var l=e.length;if(t<=l)return e;var s=new Uint8Array(Math.max(l<<1,t));return s.set(e,0),s},d.F._decodeTiny=function(e,t,l,s,m,v){for(var n=d.F._bitsE,i=d.F._get17,r=0;r<l;){var a=e[i(s,m)&t];m+=15&a;var h=a>>>4;if(h<=15)v[r]=h,r++;else{var x=0,C=0;h==16?(C=3+n(s,m,2),m+=2,x=v[r-1]):h==17?(C=3+n(s,m,3),m+=3):h==18&&(C=11+n(s,m,7),m+=7);for(var w=r+C;r<w;)v[r]=x,r++}}return m},d.F._copyOut=function(e,t,l,s){for(var m=0,v=0,n=s.length>>>1;v<l;){var i=e[v+t];s[v<<1]=0,s[1+(v<<1)]=i,i>m&&(m=i),v++}for(;v<n;)s[v<<1]=0,s[1+(v<<1)]=0,v++;return m},d.F.makeCodes=function(e,t){for(var l,s,m,v,n=d.F.U,i=e.length,r=n.bl_count,a=0;a<=t;a++)r[a]=0;for(a=1;a<i;a+=2)r[e[a]]++;var h=n.next_code;for(l=0,r[0]=0,s=1;s<=t;s++)l=l+r[s-1]<<1,h[s]=l;for(m=0;m<i;m+=2)(v=e[m+1])!=0&&(e[m]=h[v],h[v]++)},d.F.codes2map=function(e,t,l){for(var s=e.length,m=d.F.U.rev15,v=0;v<s;v+=2)if(e[v+1]!=0)for(var n=v>>1,i=e[v+1],r=n<<4|i,a=t-i,h=e[v]<<a,x=h+(1<<a);h!=x;)l[m[h]>>>15-t]=r,h++},d.F.revCodes=function(e,t){for(var l=d.F.U.rev15,s=15-t,m=0;m<e.length;m+=2){var v=e[m]<<t-e[m+1];e[m]=l[v]>>>s}},d.F._putsE=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8},d.F._putsF=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8,e[s+2]|=l>>>16},d.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},d.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(S=Uint16Array,j=Uint32Array,{next_code:new S(16),bl_count:new S(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new S(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new j(32),flmap:new S(512),fltree:[],fdmap:new S(32),fdtree:[],lmap:new S(32768),ltree:[],ttree:[],dmap:new S(32768),dtree:[],imap:new S(512),itree:[],rev15:new S(32768),lhst:new j(286),dhst:new j(30),ihst:new j(19),lits:new j(15e3),strt:new S(65536),prev:new S(32768)}),(function(){for(var e=d.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function s(m,v,n){for(;v--!=0;)m.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),s(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)})()})();var ut=ft({__proto__:null,default:Pe},[Pe]);const he=(function(){var _={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let a="";for(let h=0;h<r;h++)a+=String.fromCharCode(n[i+h]);return a},writeASCII(n,i,r){for(let a=0;a<r.length;a++)n[i+a]=r.charCodeAt(a)},readBytes(n,i,r){const a=[];for(let h=0;h<r;h++)a.push(n[i+h]);return a},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let a,h="";for(let x=0;x<r;x++)h+=`%${_.pad(n[i+x].toString(16))}`;try{a=decodeURIComponent(h)}catch{return _.readASCII(n,i,r)}return a}};function S(n,i,r,a){const h=i*r,x=t(a),C=Math.ceil(i*x/8),w=new Uint8Array(4*h),L=new Uint32Array(w.buffer),{ctype:T}=a,{depth:I}=a,N=_.readUshort;if(T==6){const F=h<<2;if(I==8)for(var g=0;g<F;g+=4)w[g]=n[g],w[g+1]=n[g+1],w[g+2]=n[g+2],w[g+3]=n[g+3];if(I==16)for(g=0;g<F;g++)w[g]=n[g<<1]}else if(T==2){const F=a.tabs.tRNS;if(F==null){if(I==8)for(g=0;g<h;g++){var R=3*g;L[g]=255<<24|n[R+2]<<16|n[R+1]<<8|n[R]}if(I==16)for(g=0;g<h;g++)R=6*g,L[g]=255<<24|n[R+4]<<16|n[R+2]<<8|n[R]}else{var c=F[0];const P=F[1],z=F[2];if(I==8)for(g=0;g<h;g++){var f=g<<2;R=3*g,L[g]=255<<24|n[R+2]<<16|n[R+1]<<8|n[R],n[R]==c&&n[R+1]==P&&n[R+2]==z&&(w[f+3]=0)}if(I==16)for(g=0;g<h;g++)f=g<<2,R=6*g,L[g]=255<<24|n[R+4]<<16|n[R+2]<<8|n[R],N(n,R)==c&&N(n,R+2)==P&&N(n,R+4)==z&&(w[f+3]=0)}}else if(T==3){const F=a.tabs.PLTE,P=a.tabs.tRNS,z=P?P.length:0;if(I==1)for(var b=0;b<r;b++){var A=b*C,y=b*i;for(g=0;g<i;g++){f=y+g<<2;var U=3*(p=n[A+(g>>3)]>>7-((7&g)<<0)&1);w[f]=F[U],w[f+1]=F[U+1],w[f+2]=F[U+2],w[f+3]=p<z?P[p]:255}}if(I==2)for(b=0;b<r;b++)for(A=b*C,y=b*i,g=0;g<i;g++)f=y+g<<2,U=3*(p=n[A+(g>>2)]>>6-((3&g)<<1)&3),w[f]=F[U],w[f+1]=F[U+1],w[f+2]=F[U+2],w[f+3]=p<z?P[p]:255;if(I==4)for(b=0;b<r;b++)for(A=b*C,y=b*i,g=0;g<i;g++)f=y+g<<2,U=3*(p=n[A+(g>>1)]>>4-((1&g)<<2)&15),w[f]=F[U],w[f+1]=F[U+1],w[f+2]=F[U+2],w[f+3]=p<z?P[p]:255;if(I==8)for(g=0;g<h;g++){var p;f=g<<2,U=3*(p=n[g]),w[f]=F[U],w[f+1]=F[U+1],w[f+2]=F[U+2],w[f+3]=p<z?P[p]:255}}else if(T==4){if(I==8)for(g=0;g<h;g++){f=g<<2;var E=n[u=g<<1];w[f]=E,w[f+1]=E,w[f+2]=E,w[f+3]=n[u+1]}if(I==16)for(g=0;g<h;g++){var u;f=g<<2,E=n[u=g<<2],w[f]=E,w[f+1]=E,w[f+2]=E,w[f+3]=n[u+2]}}else if(T==0)for(c=a.tabs.tRNS?a.tabs.tRNS:-1,b=0;b<r;b++){const F=b*C,P=b*i;if(I==1)for(var o=0;o<i;o++){var k=(E=255*(n[F+(o>>>3)]>>>7-(7&o)&1))==255*c?0:255;L[P+o]=k<<24|E<<16|E<<8|E}else if(I==2)for(o=0;o<i;o++)k=(E=85*(n[F+(o>>>2)]>>>6-((3&o)<<1)&3))==85*c?0:255,L[P+o]=k<<24|E<<16|E<<8|E;else if(I==4)for(o=0;o<i;o++)k=(E=17*(n[F+(o>>>1)]>>>4-((1&o)<<2)&15))==17*c?0:255,L[P+o]=k<<24|E<<16|E<<8|E;else if(I==8)for(o=0;o<i;o++)k=(E=n[F+o])==c?0:255,L[P+o]=k<<24|E<<16|E<<8|E;else if(I==16)for(o=0;o<i;o++)E=n[F+(o<<1)],k=N(n,F+(o<<1))==c?0:255,L[P+o]=k<<24|E<<16|E<<8|E}return w}function j(n,i,r,a){const h=t(n),x=Math.ceil(r*h/8),C=new Uint8Array((x+1+n.interlace)*a);return i=n.tabs.CgBI?e(i,C):d(i,C),n.interlace==0?i=l(i,n,0,r,a):n.interlace==1&&(i=(function(L,T){const I=T.width,N=T.height,g=t(T),R=g>>3,c=Math.ceil(I*g/8),f=new Uint8Array(N*c);let b=0;const A=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let E=0;for(;E<7;){const o=U[E],k=p[E];let F=0,P=0,z=A[E];for(;z<N;)z+=o,P++;let H=y[E];for(;H<I;)H+=k,F++;const D=Math.ceil(F*g/8);l(L,T,b,F,P);let O=0,M=A[E];for(;M<N;){let B=y[E],Z=b+O*D<<3;for(;B<I;){var u;if(g==1&&(u=(u=L[Z>>3])>>7-(7&Z)&1,f[M*c+(B>>3)]|=u<<7-((7&B)<<0)),g==2&&(u=(u=L[Z>>3])>>6-(7&Z)&3,f[M*c+(B>>2)]|=u<<6-((3&B)<<1)),g==4&&(u=(u=L[Z>>3])>>4-(7&Z)&15,f[M*c+(B>>1)]|=u<<4-((1&B)<<2)),g>=8){const q=M*c+B*R;for(let W=0;W<R;W++)f[q+W]=L[(Z>>3)+W]}Z+=g,B+=k}O++,M+=o}F*P!=0&&(b+=P*(1+D)),E+=1}return f})(i,n)),i}function d(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=(function(){const n={H:{}};return n.H.N=function(i,r){const a=Uint8Array;let h,x,C=0,w=0,L=0,T=0,I=0,N=0,g=0,R=0,c=0;if(i[0]==3&&i[1]==0)return r||new a(0);const f=n.H,b=f.b,A=f.e,y=f.R,U=f.n,p=f.A,E=f.Z,u=f.m,o=r==null;for(o&&(r=new a(i.length>>>2<<5));C==0;)if(C=b(i,c,1),w=b(i,c+1,2),c+=3,w!=0){if(o&&(r=n.H.W(r,R+(1<<17))),w==1&&(h=u.J,x=u.h,N=511,g=31),w==2){L=A(i,c,5)+257,T=A(i,c+5,5)+1,I=A(i,c+10,4)+4,c+=14;let F=1;for(var k=0;k<38;k+=2)u.Q[k]=0,u.Q[k+1]=0;for(k=0;k<I;k++){const H=A(i,c+3*k,3);u.Q[1+(u.X[k]<<1)]=H,H>F&&(F=H)}c+=3*I,U(u.Q,F),p(u.Q,F,u.u),h=u.w,x=u.d,c=y(u.u,(1<<F)-1,L+T,i,c,u.v);const P=f.V(u.v,0,L,u.C);N=(1<<P)-1;const z=f.V(u.v,L,T,u.D);g=(1<<z)-1,U(u.C,P),p(u.C,P,h),U(u.D,z),p(u.D,z,x)}for(;;){const F=h[E(i,c)&N];c+=15&F;const P=F>>>4;if(!(P>>>8))r[R++]=P;else{if(P==256)break;{let z=R+P-254;if(P>264){const B=u.q[P-257];z=R+(B>>>3)+A(i,c,7&B),c+=7&B}const H=x[E(i,c)&g];c+=15&H;const D=H>>>4,O=u.c[D],M=(O>>>4)+b(i,c,15&O);for(c+=15&O;R<z;)r[R]=r[R++-M],r[R]=r[R++-M],r[R]=r[R++-M],r[R]=r[R++-M];R=z}}}}else{(7&c)!=0&&(c+=8-(7&c));const F=4+(c>>>3),P=i[F-4]|i[F-3]<<8;o&&(r=n.H.W(r,R+P)),r.set(new a(i.buffer,i.byteOffset+F,P),R),c=F+P<<3,R+=P}return r.length==R?r:r.slice(0,R)},n.H.W=function(i,r){const a=i.length;if(r<=a)return i;const h=new Uint8Array(a<<1);return h.set(i,0),h},n.H.R=function(i,r,a,h,x,C){const w=n.H.e,L=n.H.Z;let T=0;for(;T<a;){const I=i[L(h,x)&r];x+=15&I;const N=I>>>4;if(N<=15)C[T]=N,T++;else{let g=0,R=0;N==16?(R=3+w(h,x,2),x+=2,g=C[T-1]):N==17?(R=3+w(h,x,3),x+=3):N==18&&(R=11+w(h,x,7),x+=7);const c=T+R;for(;T<c;)C[T]=g,T++}}return x},n.H.V=function(i,r,a,h){let x=0,C=0;const w=h.length>>>1;for(;C<a;){const L=i[C+r];h[C<<1]=0,h[1+(C<<1)]=L,L>x&&(x=L),C++}for(;C<w;)h[C<<1]=0,h[1+(C<<1)]=0,C++;return x},n.H.n=function(i,r){const a=n.H.m,h=i.length;let x,C,w,L;const T=a.j;for(var I=0;I<=r;I++)T[I]=0;for(I=1;I<h;I+=2)T[i[I]]++;const N=a.K;for(x=0,T[0]=0,C=1;C<=r;C++)x=x+T[C-1]<<1,N[C]=x;for(w=0;w<h;w+=2)L=i[w+1],L!=0&&(i[w]=N[L],N[L]++)},n.H.A=function(i,r,a){const h=i.length,x=n.H.m.r;for(let C=0;C<h;C+=2)if(i[C+1]!=0){const w=C>>1,L=i[C+1],T=w<<4|L,I=r-L;let N=i[C]<<I;const g=N+(1<<I);for(;N!=g;)a[x[N]>>>15-r]=T,N++}},n.H.l=function(i,r){const a=n.H.m.r,h=15-r;for(let x=0;x<i.length;x+=2){const C=i[x]<<r-i[x+1];i[x]=a[C]>>>h}},n.H.M=function(i,r,a){a<<=7&r;const h=r>>>3;i[h]|=a,i[h+1]|=a>>>8},n.H.I=function(i,r,a){a<<=7&r;const h=r>>>3;i[h]|=a,i[h+1]|=a>>>8,i[h+2]|=a>>>16},n.H.e=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<a)-1},n.H.b=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<a)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=(function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=n.H.m;for(var r=0;r<32768;r++){let h=r;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[r]=(h>>>16|h<<16)>>>17}function a(h,x,C){for(;x--!=0;)h.push(0,C)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),a(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)})(),n.H.N})();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,i,r,a,h){let x=t(i);const C=Math.ceil(a*x/8);let w,L;x=Math.ceil(x/8);let T=n[r],I=0;if(T>1&&(n[r]=[0,0,1][T-2]),T==3)for(I=x;I<C;I++)n[I+1]=n[I+1]+(n[I+1-x]>>>1)&255;for(let N=0;N<h;N++)if(w=r+N*C,L=w+N+1,T=n[L-1],I=0,T==0)for(;I<C;I++)n[w+I]=n[L+I];else if(T==1){for(;I<x;I++)n[w+I]=n[L+I];for(;I<C;I++)n[w+I]=n[L+I]+n[w+I-x]}else if(T==2)for(;I<C;I++)n[w+I]=n[L+I]+n[w+I-C];else if(T==3){for(;I<x;I++)n[w+I]=n[L+I]+(n[w+I-C]>>>1);for(;I<C;I++)n[w+I]=n[L+I]+(n[w+I-C]+n[w+I-x]>>>1)}else{for(;I<x;I++)n[w+I]=n[L+I]+s(0,n[w+I-C],0);for(;I<C;I++)n[w+I]=n[L+I]+s(n[w+I-x],n[w+I-C],n[w+I-x-C])}return n}function s(n,i,r){const a=n+i-r,h=a-n,x=a-i,C=a-r;return h*h<=x*x&&h*h<=C*C?n:x*x<=C*C?i:r}function m(n,i,r){r.width=_.readUint(n,i),i+=4,r.height=_.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function v(n,i,r,a,h,x,C,w,L){const T=Math.min(i,h),I=Math.min(r,x);let N=0,g=0;for(let E=0;E<I;E++)for(let u=0;u<T;u++)if(C>=0&&w>=0?(N=E*i+u<<2,g=(w+E)*h+C+u<<2):(N=(-w+E)*i-C+u<<2,g=E*h+u<<2),L==0)a[g]=n[N],a[g+1]=n[N+1],a[g+2]=n[N+2],a[g+3]=n[N+3];else if(L==1){var R=n[N+3]*.00392156862745098,c=n[N]*R,f=n[N+1]*R,b=n[N+2]*R,A=a[g+3]*(1/255),y=a[g]*A,U=a[g+1]*A,p=a[g+2]*A;const o=1-R,k=R+A*o,F=k==0?0:1/k;a[g+3]=255*k,a[g+0]=(c+y*o)*F,a[g+1]=(f+U*o)*F,a[g+2]=(b+p*o)*F}else if(L==2)R=n[N+3],c=n[N],f=n[N+1],b=n[N+2],A=a[g+3],y=a[g],U=a[g+1],p=a[g+2],R==A&&c==y&&f==U&&b==p?(a[g]=0,a[g+1]=0,a[g+2]=0,a[g+3]=0):(a[g]=c,a[g+1]=f,a[g+2]=b,a[g+3]=R);else if(L==3){if(R=n[N+3],c=n[N],f=n[N+1],b=n[N+2],A=a[g+3],y=a[g],U=a[g+1],p=a[g+2],R==A&&c==y&&f==U&&b==p)continue;if(R<220&&A>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let a=8;const h=_,x=h.readUshort,C=h.readUint,w={tabs:{},frames:[]},L=new Uint8Array(r.length);let T,I=0,N=0;const g=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(r[R]!=g[R])throw"The input is not a PNG file!";for(;a<r.length;){const E=h.readUint(r,a);a+=4;const u=h.readASCII(r,a,4);if(a+=4,u=="IHDR")m(r,a,w);else if(u=="iCCP"){for(var c=a;r[c]!=0;)c++;h.readASCII(r,a,c-a),r[c+1];const o=r.slice(c+2,a+E);let k=null;try{k=d(o)}catch{k=e(o)}w.tabs[u]=k}else if(u=="CgBI")w.tabs[u]=r.slice(a,a+4);else if(u=="IDAT"){for(R=0;R<E;R++)L[I+R]=r[a+R];I+=E}else if(u=="acTL")w.tabs[u]={num_frames:C(r,a),num_plays:C(r,a+4)},T=new Uint8Array(r.length);else if(u=="fcTL"){N!=0&&((p=w.frames[w.frames.length-1]).data=j(w,T.slice(0,N),p.rect.width,p.rect.height),N=0);const o={x:C(r,a+12),y:C(r,a+16),width:C(r,a+4),height:C(r,a+8)};let k=x(r,a+22);k=x(r,a+20)/(k==0?100:k);const F={rect:o,delay:Math.round(1e3*k),dispose:r[a+24],blend:r[a+25]};w.frames.push(F)}else if(u=="fdAT"){for(R=0;R<E-4;R++)T[N+R]=r[a+R+4];N+=E-4}else if(u=="pHYs")w.tabs[u]=[h.readUint(r,a),h.readUint(r,a+4),r[a+8]];else if(u=="cHRM")for(w.tabs[u]=[],R=0;R<8;R++)w.tabs[u].push(h.readUint(r,a+4*R));else if(u=="tEXt"||u=="zTXt"){w.tabs[u]==null&&(w.tabs[u]={});var f=h.nextZero(r,a),b=h.readASCII(r,a,f-a),A=a+E-f-1;if(u=="tEXt")U=h.readASCII(r,f+1,A);else{var y=d(r.slice(f+2,f+2+A));U=h.readUTF8(y,0,y.length)}w.tabs[u][b]=U}else if(u=="iTXt"){w.tabs[u]==null&&(w.tabs[u]={}),f=0,c=a,f=h.nextZero(r,c),b=h.readASCII(r,c,f-c);const o=r[c=f+1];var U;r[c+1],c+=2,f=h.nextZero(r,c),h.readASCII(r,c,f-c),c=f+1,f=h.nextZero(r,c),h.readUTF8(r,c,f-c),A=E-((c=f+1)-a),o==0?U=h.readUTF8(r,c,A):(y=d(r.slice(c,c+A)),U=h.readUTF8(y,0,y.length)),w.tabs[u][b]=U}else if(u=="PLTE")w.tabs[u]=h.readBytes(r,a,E);else if(u=="hIST"){const o=w.tabs.PLTE.length/3;for(w.tabs[u]=[],R=0;R<o;R++)w.tabs[u].push(x(r,a+2*R))}else if(u=="tRNS")w.ctype==3?w.tabs[u]=h.readBytes(r,a,E):w.ctype==0?w.tabs[u]=x(r,a):w.ctype==2&&(w.tabs[u]=[x(r,a),x(r,a+2),x(r,a+4)]);else if(u=="gAMA")w.tabs[u]=h.readUint(r,a)/1e5;else if(u=="sRGB")w.tabs[u]=r[a];else if(u=="bKGD")w.ctype==0||w.ctype==4?w.tabs[u]=[x(r,a)]:w.ctype==2||w.ctype==6?w.tabs[u]=[x(r,a),x(r,a+2),x(r,a+4)]:w.ctype==3&&(w.tabs[u]=r[a]);else if(u=="IEND")break;a+=E,h.readUint(r,a),a+=4}var p;return N!=0&&((p=w.frames[w.frames.length-1]).data=j(w,T.slice(0,N),p.rect.width,p.rect.height)),w.data=j(w,L,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(i){const r=i.width,a=i.height;if(i.tabs.acTL==null)return[S(i.data,r,a,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const x=r*a*4,C=new Uint8Array(x),w=new Uint8Array(x),L=new Uint8Array(x);for(let I=0;I<i.frames.length;I++){const N=i.frames[I],g=N.rect.x,R=N.rect.y,c=N.rect.width,f=N.rect.height,b=S(N.data,c,f,i);if(I!=0)for(var T=0;T<x;T++)L[T]=C[T];if(N.blend==0?v(b,c,f,C,r,a,g,R,0):N.blend==1&&v(b,c,f,C,r,a,g,R,1),h.push(C.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)v(w,c,f,C,r,a,g,R,0);else if(N.dispose==2)for(T=0;T<x;T++)C[T]=L[T]}}return h},_paeth:s,_copyTile:v,_bin:_}})();(function(){const{_copyTile:_}=he,{_bin:S}=he,j=he._paeth;var d={table:(function(){const c=new Uint32Array(256);for(let f=0;f<256;f++){let b=f;for(let A=0;A<8;A++)1&b?b=3988292384^b>>>1:b>>>=1;c[f]=b}return c})(),update(c,f,b,A){for(let y=0;y<A;y++)c=d.table[255&(c^f[b+y])]^c>>>8;return c},crc:(c,f,b)=>4294967295^d.update(4294967295,c,f,b)};function e(c,f,b,A){f[b]+=c[0]*A>>4,f[b+1]+=c[1]*A>>4,f[b+2]+=c[2]*A>>4,f[b+3]+=c[3]*A>>4}function t(c){return Math.max(0,Math.min(255,c))}function l(c,f){const b=c[0]-f[0],A=c[1]-f[1],y=c[2]-f[2],U=c[3]-f[3];return b*b+A*A+y*y+U*U}function s(c,f,b,A,y,U,p){p==null&&(p=1);const E=A.length,u=[];for(var o=0;o<E;o++){const M=A[o];u.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(o=0;o<E;o++){let M=4294967295;for(var k=0,F=0;F<E;F++){var P=l(u[o],u[F]);F!=o&&P<M&&(M=P,k=F)}}const z=new Uint32Array(y.buffer),H=new Int16Array(f*b*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<D.length;o++)D[o]=255*((D[o]+.5)/16-.5);for(let M=0;M<b;M++)for(let B=0;B<f;B++){var O;o=4*(M*f+B),p!=2?O=[t(c[o]+H[o]),t(c[o+1]+H[o+1]),t(c[o+2]+H[o+2]),t(c[o+3]+H[o+3])]:(P=D[4*(3&M)+(3&B)],O=[t(c[o]+P),t(c[o+1]+P),t(c[o+2]+P),t(c[o+3]+P)]),k=0;let Z=16777215;for(F=0;F<E;F++){const G=l(O,u[F]);G<Z&&(Z=G,k=F)}const q=u[k],W=[O[0]-q[0],O[1]-q[1],O[2]-q[2],O[3]-q[3]];p==1&&(B!=f-1&&e(W,H,o+4,7),M!=b-1&&(B!=0&&e(W,H,o+4*f-4,3),e(W,H,o+4*f,5),B!=f-1&&e(W,H,o+4*f+4,1))),U[o>>2]=k,z[o>>2]=A[k]}}function m(c,f,b,A,y){y==null&&(y={});const{crc:U}=d,p=S.writeUint,E=S.writeUshort,u=S.writeASCII;let o=8;const k=c.frames.length>1;let F,P=!1,z=33+(k?20:0);if(y.sRGB!=null&&(z+=13),y.pHYs!=null&&(z+=21),y.iCCP!=null&&(F=pako.deflate(y.iCCP),z+=21+F.length+4),c.ctype==3){for(var H=c.plte.length,D=0;D<H;D++)c.plte[D]>>>24!=255&&(P=!0);z+=8+3*H+4+(P?8+1*H+4:0)}for(var O=0;O<c.frames.length;O++)k&&(z+=38),z+=(q=c.frames[O]).cimg.length+12,O!=0&&(z+=4);z+=12;const M=new Uint8Array(z),B=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)M[D]=B[D];if(p(M,o,13),o+=4,u(M,o,"IHDR"),o+=4,p(M,o,f),o+=4,p(M,o,b),o+=4,M[o]=c.depth,o++,M[o]=c.ctype,o++,M[o]=0,o++,M[o]=0,o++,M[o]=0,o++,p(M,o,U(M,o-17,17)),o+=4,y.sRGB!=null&&(p(M,o,1),o+=4,u(M,o,"sRGB"),o+=4,M[o]=y.sRGB,o++,p(M,o,U(M,o-5,5)),o+=4),y.iCCP!=null){const W=13+F.length;p(M,o,W),o+=4,u(M,o,"iCCP"),o+=4,u(M,o,"ICC profile"),o+=11,o+=2,M.set(F,o),o+=F.length,p(M,o,U(M,o-(W+4),W+4)),o+=4}if(y.pHYs!=null&&(p(M,o,9),o+=4,u(M,o,"pHYs"),o+=4,p(M,o,y.pHYs[0]),o+=4,p(M,o,y.pHYs[1]),o+=4,M[o]=y.pHYs[2],o++,p(M,o,U(M,o-13,13)),o+=4),k&&(p(M,o,8),o+=4,u(M,o,"acTL"),o+=4,p(M,o,c.frames.length),o+=4,p(M,o,y.loop!=null?y.loop:0),o+=4,p(M,o,U(M,o-12,12)),o+=4),c.ctype==3){for(p(M,o,3*(H=c.plte.length)),o+=4,u(M,o,"PLTE"),o+=4,D=0;D<H;D++){const W=3*D,G=c.plte[D],Y=255&G,te=G>>>8&255,Ae=G>>>16&255;M[o+W+0]=Y,M[o+W+1]=te,M[o+W+2]=Ae}if(o+=3*H,p(M,o,U(M,o-3*H-4,3*H+4)),o+=4,P){for(p(M,o,H),o+=4,u(M,o,"tRNS"),o+=4,D=0;D<H;D++)M[o+D]=c.plte[D]>>>24&255;o+=H,p(M,o,U(M,o-H-4,H+4)),o+=4}}let Z=0;for(O=0;O<c.frames.length;O++){var q=c.frames[O];k&&(p(M,o,26),o+=4,u(M,o,"fcTL"),o+=4,p(M,o,Z++),o+=4,p(M,o,q.rect.width),o+=4,p(M,o,q.rect.height),o+=4,p(M,o,q.rect.x),o+=4,p(M,o,q.rect.y),o+=4,E(M,o,A[O]),o+=2,E(M,o,1e3),o+=2,M[o]=q.dispose,o++,M[o]=q.blend,o++,p(M,o,U(M,o-30,30)),o+=4);const W=q.cimg;p(M,o,(H=W.length)+(O==0?0:4)),o+=4;const G=o;u(M,o,O==0?"IDAT":"fdAT"),o+=4,O!=0&&(p(M,o,Z++),o+=4),M.set(W,o),o+=H,p(M,o,U(M,G,o-G)),o+=4}return p(M,o,0),o+=4,u(M,o,"IEND"),o+=4,p(M,o,U(M,o-4,4)),o+=4,M.buffer}function v(c,f,b){for(let A=0;A<c.frames.length;A++){const y=c.frames[A];y.rect.width;const U=y.rect.height,p=new Uint8Array(U*y.bpl+U);y.cimg=a(y.img,U,y.bpp,y.bpl,p,f,b)}}function n(c,f,b,A,y){const U=y[0],p=y[1],E=y[2],u=y[3],o=y[4],k=y[5];let F=6,P=8,z=255;for(var H=0;H<c.length;H++){const ne=new Uint8Array(c[H]);for(var D=ne.length,O=0;O<D;O+=4)z&=ne[O+3]}const M=z!=255,B=(function(V,$,re,ae,J,le){const ee=[];for(var K=0;K<V.length;K++){const se=new Uint8Array(V[K]),de=new Uint32Array(se.buffer);var ce;let ue=0,be=0,me=$,Ue=re,He=ae?1:0;if(K!=0){const it=le||ae||K==1||ee[K-2].dispose!=0?1:2;let De=0,We=1e9;for(let Me=0;Me<it;Me++){var ve=new Uint8Array(V[K-1-Me]);const ot=new Uint32Array(V[K-1-Me]);let we=$,ye=re,Ie=-1,Se=-1;for(let Fe=0;Fe<re;Fe++)for(let Ee=0;Ee<$;Ee++)de[ie=Fe*$+Ee]!=ot[ie]&&(Ee<we&&(we=Ee),Ee>Ie&&(Ie=Ee),Fe<ye&&(ye=Fe),Fe>Se&&(Se=Fe));Ie==-1&&(we=ye=Ie=Se=0),J&&((1&we)==1&&we--,(1&ye)==1&&ye--);const qe=(Ie-we+1)*(Se-ye+1);qe<We&&(We=qe,De=Me,ue=we,be=ye,me=Ie-we+1,Ue=Se-ye+1)}ve=new Uint8Array(V[K-1-De]),De==1&&(ee[K-1].dispose=2),ce=new Uint8Array(me*Ue*4),_(ve,$,re,ce,me,Ue,-ue,-be,0),He=_(se,$,re,ce,me,Ue,-ue,-be,3)?1:0,He==1?r(se,$,re,ce,{x:ue,y:be,width:me,height:Ue}):_(se,$,re,ce,me,Ue,-ue,-be,0)}else ce=se.slice(0);ee.push({rect:{x:ue,y:be,width:me,height:Ue},img:ce,blend:He,dispose:0})}if(ae)for(K=0;K<ee.length;K++){if((xe=ee[K]).blend==1)continue;const se=xe.rect,de=ee[K-1].rect,ue=Math.min(se.x,de.x),be=Math.min(se.y,de.y),me={x:ue,y:be,width:Math.max(se.x+se.width,de.x+de.width)-ue,height:Math.max(se.y+se.height,de.y+de.height)-be};ee[K-1].dispose=1,K-1!=0&&i(V,$,re,ee,K-1,me,J),i(V,$,re,ee,K,me,J)}let Te=0;if(V.length!=1)for(var ie=0;ie<ee.length;ie++){var xe;Te+=(xe=ee[ie]).rect.width*xe.rect.height}return ee})(c,f,b,U,p,E),Z={},q=[],W=[];if(A!=0){const ne=[];for(O=0;O<B.length;O++)ne.push(B[O].img.buffer);const V=(function(J){let le=0;for(var ee=0;ee<J.length;ee++)le+=J[ee].byteLength;const K=new Uint8Array(le);let ce=0;for(ee=0;ee<J.length;ee++){const ve=new Uint8Array(J[ee]),Te=ve.length;for(let ie=0;ie<Te;ie+=4){let xe=ve[ie],se=ve[ie+1],de=ve[ie+2];const ue=ve[ie+3];ue==0&&(xe=se=de=0),K[ce+ie]=xe,K[ce+ie+1]=se,K[ce+ie+2]=de,K[ce+ie+3]=ue}ce+=Te}return K.buffer})(ne),$=x(V,A);for(O=0;O<$.plte.length;O++)q.push($.plte[O].est.rgba);let re=0;for(O=0;O<B.length;O++){const ae=(Y=B[O]).img.length;var G=new Uint8Array($.inds.buffer,re>>2,ae>>2);W.push(G);const J=new Uint8Array($.abuf,re,ae);k&&s(Y.img,Y.rect.width,Y.rect.height,q,J,G),Y.img.set(J),re+=ae}}else for(H=0;H<B.length;H++){var Y=B[H];const ne=new Uint32Array(Y.img.buffer);var te=Y.rect.width;for(D=ne.length,G=new Uint8Array(D),W.push(G),O=0;O<D;O++){const V=ne[O];if(O!=0&&V==ne[O-1])G[O]=G[O-1];else if(O>te&&V==ne[O-te])G[O]=G[O-te];else{let $=Z[V];if($==null&&(Z[V]=$=q.length,q.push(V),q.length>=300))break;G[O]=$}}}const Ae=q.length;for(Ae<=256&&o==0&&(P=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,P=Math.max(P,u)),H=0;H<B.length;H++){(Y=B[H]).rect.x,Y.rect.y,te=Y.rect.width;const ne=Y.rect.height;let V=Y.img;new Uint32Array(V.buffer);let $=4*te,re=4;if(Ae<=256&&o==0){$=Math.ceil(P*te/8);var ge=new Uint8Array($*ne);const ae=W[H];for(let J=0;J<ne;J++){O=J*$;const le=J*te;if(P==8)for(var X=0;X<te;X++)ge[O+X]=ae[le+X];else if(P==4)for(X=0;X<te;X++)ge[O+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(P==2)for(X=0;X<te;X++)ge[O+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(P==1)for(X=0;X<te;X++)ge[O+(X>>3)]|=ae[le+X]<<7-1*(7&X)}V=ge,F=3,re=1}else if(M==0&&B.length==1){ge=new Uint8Array(te*ne*3);const ae=te*ne;for(O=0;O<ae;O++){const J=3*O,le=4*O;ge[J]=V[le],ge[J+1]=V[le+1],ge[J+2]=V[le+2]}V=ge,F=2,re=3,$=3*te}Y.img=V,Y.bpl=$,Y.bpp=re}return{ctype:F,depth:P,plte:q,frames:B}}function i(c,f,b,A,y,U,p){const E=Uint8Array,u=Uint32Array,o=new E(c[y-1]),k=new u(c[y-1]),F=y+1<c.length?new E(c[y+1]):null,P=new E(c[y]),z=new u(P.buffer);let H=f,D=b,O=-1,M=-1;for(let Z=0;Z<U.height;Z++)for(let q=0;q<U.width;q++){const W=U.x+q,G=U.y+Z,Y=G*f+W,te=z[Y];te==0||A[y-1].dispose==0&&k[Y]==te&&(F==null||F[4*Y+3]!=0)||(W<H&&(H=W),W>O&&(O=W),G<D&&(D=G),G>M&&(M=G))}O==-1&&(H=D=O=M=0),p&&((1&H)==1&&H--,(1&D)==1&&D--),U={x:H,y:D,width:O-H+1,height:M-D+1};const B=A[y];B.rect=U,B.blend=1,B.img=new Uint8Array(U.width*U.height*4),A[y-1].dispose==0?(_(o,f,b,B.img,U.width,U.height,-U.x,-U.y,0),r(P,f,b,B.img,U)):_(P,f,b,B.img,U.width,U.height,-U.x,-U.y,0)}function r(c,f,b,A,y){_(c,f,b,A,y.width,y.height,-y.x,-y.y,2)}function a(c,f,b,A,y,U,p){const E=[];let u,o=[0,1,2,3,4];U!=-1?o=[U]:(f*A>5e5||b==1)&&(o=[0]),p&&(u={level:0});const k=ut;for(var F=0;F<o.length;F++){for(let H=0;H<f;H++)h(y,c,H,A,b,o[F]);E.push(k.deflate(y,u))}let P,z=1e9;for(F=0;F<E.length;F++)E[F].length<z&&(P=F,z=E[F].length);return E[P]}function h(c,f,b,A,y,U){const p=b*A;let E=p+b;if(c[E]=U,E++,U==0)if(A<500)for(var u=0;u<A;u++)c[E+u]=f[p+u];else c.set(new Uint8Array(f.buffer,p,A),E);else if(U==1){for(u=0;u<y;u++)c[E+u]=f[p+u];for(u=y;u<A;u++)c[E+u]=f[p+u]-f[p+u-y]+256&255}else if(b==0){for(u=0;u<y;u++)c[E+u]=f[p+u];if(U==2)for(u=y;u<A;u++)c[E+u]=f[p+u];if(U==3)for(u=y;u<A;u++)c[E+u]=f[p+u]-(f[p+u-y]>>1)+256&255;if(U==4)for(u=y;u<A;u++)c[E+u]=f[p+u]-j(f[p+u-y],0,0)+256&255}else{if(U==2)for(u=0;u<A;u++)c[E+u]=f[p+u]+256-f[p+u-A]&255;if(U==3){for(u=0;u<y;u++)c[E+u]=f[p+u]+256-(f[p+u-A]>>1)&255;for(u=y;u<A;u++)c[E+u]=f[p+u]+256-(f[p+u-A]+f[p+u-y]>>1)&255}if(U==4){for(u=0;u<y;u++)c[E+u]=f[p+u]+256-j(0,f[p+u-A],0)&255;for(u=y;u<A;u++)c[E+u]=f[p+u]+256-j(f[p+u-y],f[p+u-A],f[p+u-y-A])&255}}}function x(c,f){const b=new Uint8Array(c),A=b.slice(0),y=new Uint32Array(A.buffer),U=C(A,f),p=U[0],E=U[1],u=b.length,o=new Uint8Array(u>>2);let k;if(b.length<2e7)for(var F=0;F<u;F+=4)k=w(p,P=b[F]*(1/255),z=b[F+1]*(1/255),H=b[F+2]*(1/255),D=b[F+3]*(1/255)),o[F>>2]=k.ind,y[F>>2]=k.est.rgba;else for(F=0;F<u;F+=4){var P=b[F]*.00392156862745098,z=b[F+1]*(1/255),H=b[F+2]*(1/255),D=b[F+3]*(1/255);for(k=p;k.left;)k=L(k.est,P,z,H,D)<=0?k.left:k.right;o[F>>2]=k.ind,y[F>>2]=k.est.rgba}return{abuf:A.buffer,inds:o,plte:E}}function C(c,f,b){b==null&&(b=1e-4);const A=new Uint32Array(c.buffer),y={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=N(c,y.i0,y.i1),y.est=g(y.bst);const U=[y];for(;U.length<f;){let E=0,u=0;for(var p=0;p<U.length;p++)U[p].est.L>E&&(E=U[p].est.L,u=p);if(E<b)break;const o=U[u],k=T(c,A,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=k||o.i1<=k){o.est.L=0;continue}const F={i0:o.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};F.bst=N(c,F.i0,F.i1),F.est=g(F.bst);const P={i0:k,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:o.bst.N-F.bst.N},p=0;p<16;p++)P.bst.R[p]=o.bst.R[p]-F.bst.R[p];for(p=0;p<4;p++)P.bst.m[p]=o.bst.m[p]-F.bst.m[p];P.est=g(P.bst),o.left=F,o.right=P,U[u]=F,U.push(P)}for(U.sort(((E,u)=>u.bst.N-E.bst.N)),p=0;p<U.length;p++)U[p].ind=p;return[y,U]}function w(c,f,b,A,y){if(c.left==null)return c.tdst=(function(F,P,z,H,D){const O=P-F[0],M=z-F[1],B=H-F[2],Z=D-F[3];return O*O+M*M+B*B+Z*Z})(c.est.q,f,b,A,y),c;const U=L(c.est,f,b,A,y);let p=c.left,E=c.right;U>0&&(p=c.right,E=c.left);const u=w(p,f,b,A,y);if(u.tdst<=U*U)return u;const o=w(E,f,b,A,y);return o.tdst<u.tdst?o:u}function L(c,f,b,A,y){const{e:U}=c;return U[0]*f+U[1]*b+U[2]*A+U[3]*y-c.eMq}function T(c,f,b,A,y,U){for(A-=4;b<A;){for(;I(c,b,y)<=U;)b+=4;for(;I(c,A,y)>U;)A-=4;if(b>=A)break;const p=f[b>>2];f[b>>2]=f[A>>2],f[A>>2]=p,b+=4,A-=4}for(;I(c,b,y)>U;)b-=4;return b+4}function I(c,f,b){return c[f]*b[0]+c[f+1]*b[1]+c[f+2]*b[2]+c[f+3]*b[3]}function N(c,f,b){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],U=b-f>>2;for(let p=f;p<b;p+=4){const E=c[p]*.00392156862745098,u=c[p+1]*(1/255),o=c[p+2]*(1/255),k=c[p+3]*(1/255);y[0]+=E,y[1]+=u,y[2]+=o,y[3]+=k,A[0]+=E*E,A[1]+=E*u,A[2]+=E*o,A[3]+=E*k,A[5]+=u*u,A[6]+=u*o,A[7]+=u*k,A[10]+=o*o,A[11]+=o*k,A[15]+=k*k}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:y,N:U}}function g(c){const{R:f}=c,{m:b}=c,{N:A}=c,y=b[0],U=b[1],p=b[2],E=b[3],u=A==0?0:1/A,o=[f[0]-y*y*u,f[1]-y*U*u,f[2]-y*p*u,f[3]-y*E*u,f[4]-U*y*u,f[5]-U*U*u,f[6]-U*p*u,f[7]-U*E*u,f[8]-p*y*u,f[9]-p*U*u,f[10]-p*p*u,f[11]-p*E*u,f[12]-E*y*u,f[13]-E*U*u,f[14]-E*p*u,f[15]-E*E*u],k=o,F=R;let P=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,H=0;if(A!=0)for(let O=0;O<16&&(P=F.multVec(k,P),H=Math.sqrt(F.dot(P,P)),P=F.sml(1/H,P),!(O!=0&&Math.abs(H-z)<1e-9));O++)z=H;const D=[y*u,U*u,p*u,E*u];return{Cov:o,q:D,e:P,L:z,eMq255:F.dot(F.sml(255,D),P),eMq:F.dot(P,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var R={multVec:(c,f)=>[c[0]*f[0]+c[1]*f[1]+c[2]*f[2]+c[3]*f[3],c[4]*f[0]+c[5]*f[1]+c[6]*f[2]+c[7]*f[3],c[8]*f[0]+c[9]*f[1]+c[10]*f[2]+c[11]*f[3],c[12]*f[0]+c[13]*f[1]+c[14]*f[2]+c[15]*f[3]],dot:(c,f)=>c[0]*f[0]+c[1]*f[1]+c[2]*f[2]+c[3]*f[3],sml:(c,f)=>[c*f[0],c*f[1],c*f[2],c*f[3]]};he.encode=function(f,b,A,y,U,p,E){y==null&&(y=0),E==null&&(E=!1);const u=n(f,b,A,y,[!1,!1,!1,0,E,!1]);return v(u,-1),m(u,b,A,U,p)},he.encodeLL=function(f,b,A,y,U,p,E,u){const o={ctype:0+(y==1?0:2)+(U==0?0:4),depth:p,frames:[]},k=(y+U)*p,F=k*b;for(let P=0;P<f.length;P++)o.frames.push({rect:{x:0,y:0,width:b,height:A},img:new Uint8Array(f[P]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(F/8)});return v(o,0,!0),m(o,b,A,E,u)},he.encode.compress=n,he.encode.dither=s,he.quantize=x,he.quantize.getKDtree=C,he.quantize.getNearest=w})();const Ke={toArrayBuffer(_,S){const j=_.width,d=_.height,e=j<<2,t=_.getContext("2d").getImageData(0,0,j,d),l=new Uint32Array(t.data.buffer),s=(32*j+31)/32<<2,m=s*d,v=122+m,n=new ArrayBuffer(v),i=new DataView(n),r=1<<20;let a,h,x,C,w=r,L=0,T=0,I=0;function N(c){i.setUint16(T,c,!0),T+=2}function g(c){i.setUint32(T,c,!0),T+=4}function R(c){T+=c}N(19778),g(v),R(4),g(122),g(108),g(j),g(-d>>>0),N(1),N(32),g(3),g(m),g(2835),g(2835),R(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),(function c(){for(;L<d&&w>0;){for(C=122+L*s,a=0;a<e;)w--,h=l[I++],x=h>>>24,i.setUint32(C+a,h<<8|x),a+=4;L++}I<l.length?(w=r,setTimeout(c,Ke._dly)):S(n)})()},toBlob(_,S){this.toArrayBuffer(_,(j=>{S(new Blob([j],{type:"image/bmp"}))}))},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},dt={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Be=typeof window<"u",Ze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,je=Be&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ht=(Be||Ze)&&(je&&je.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ve=(Be||Ze)&&(je&&je.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Qe(_,S,j=Date.now()){return new Promise((d=>{const e=_.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let s=l.length;const m=new Uint8Array(s);for(;s--;)m[s]=l.charCodeAt(s);const v=new Blob([m],{type:t});v.name=S,v.lastModified=j,d(v)}))}function Xe(_){return new Promise(((S,j)=>{const d=new Ve;d.onload=()=>S(d.result),d.onerror=e=>j(e),d.readAsDataURL(_)}))}function Ye(_){return new Promise(((S,j)=>{const d=new Image;d.onload=()=>S(d),d.onerror=e=>j(e),d.src=_}))}function Ce(){if(Ce.cachedResult!==void 0)return Ce.cachedResult;let _=fe.ETC;const{userAgent:S}=navigator;return/Chrom(e|ium)/i.test(S)?_=fe.CHROME:/iP(ad|od|hone)/i.test(S)&&/WebKit/i.test(S)?_=fe.IOS:/Safari/i.test(S)?_=fe.DESKTOP_SAFARI:/Firefox/i.test(S)?_=fe.FIREFOX:(/MSIE/i.test(S)||document.documentMode)&&(_=fe.IE),Ce.cachedResult=_,Ce.cachedResult}function Je(_,S){const j=Ce(),d=dt[j];let e=_,t=S,l=e*t;const s=e>t?t/e:e/t;for(;l>d*d;){const m=(d+e)/2,v=(d+t)/2;m<v?(t=v,e=v*s):(t=m*s,e=m),l=e*t}return{width:e,height:t}}function Oe(_,S){let j,d;try{if(j=new OffscreenCanvas(_,S),d=j.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{j=document.createElement("canvas"),d=j.getContext("2d")}return j.width=_,j.height=S,[j,d]}function et(_,S){const{width:j,height:d}=Je(_.width,_.height),[e,t]=Oe(j,d);return S&&/jpe?g/.test(S)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(_,0,0,e.width,e.height),e}function ke(){return ke.cachedResult!==void 0||(ke.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ke.cachedResult}function Ne(_,S={}){return new Promise((function(j,d){let e,t;var l=function(){try{return t=et(e,S.fileType||_.type),j([e,t])}catch(m){return d(m)}},s=function(m){try{var v=function(n){try{throw n}catch(i){return d(i)}};try{let n;return Xe(_).then((function(i){try{return n=i,Ye(n).then((function(r){try{return e=r,(function(){try{return l()}catch(a){return d(a)}})()}catch(a){return v(a)}}),v)}catch(r){return v(r)}}),v)}catch(n){v(n)}}catch(n){return d(n)}};try{if(ke()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Ce()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(_).then((function(m){try{return e=m,l()}catch{return s()}}),s)}catch{s()}}))}function Le(_,S,j,d,e=1){return new Promise((function(t,l){let s;if(S==="image/png"){let v,n,i;return v=_.getContext("2d"),{data:n}=v.getImageData(0,0,_.width,_.height),i=he.encode([n.buffer],_.width,_.height,4096*e),s=new Blob([i],{type:S}),s.name=j,s.lastModified=d,m.call(this)}{let v=function(){return m.call(this)};if(S==="image/bmp")return new Promise((n=>Ke.toBlob(_,n))).then(function(n){try{return s=n,s.name=j,s.lastModified=d,v.call(this)}catch(i){return l(i)}}.bind(this),l);{let n=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&_ instanceof OffscreenCanvas)return _.convertToBlob({type:S,quality:e}).then(function(i){try{return s=i,s.name=j,s.lastModified=d,n.call(this)}catch(r){return l(r)}}.bind(this),l);{let i;return i=_.toDataURL(S,e),Qe(i,j,d).then(function(r){try{return s=r,n.call(this)}catch(a){return l(a)}}.bind(this),l)}}}function m(){return t(s)}}))}function pe(_){_.width=0,_.height=0}function _e(){return new Promise((function(_,S){let j,d,e,t;return _e.cachedResult!==void 0?_(_e.cachedResult):Qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(l){try{return j=l,Ne(j).then((function(s){try{return d=s[1],Le(d,j.type,j.name,j.lastModified).then((function(m){try{return e=m,pe(d),Ne(e).then((function(v){try{return t=v[0],_e.cachedResult=t.width===1&&t.height===2,_(_e.cachedResult)}catch(n){return S(n)}}),S)}catch(v){return S(v)}}),S)}catch(m){return S(m)}}),S)}catch(s){return S(s)}}),S)}))}function tt(_){return new Promise(((S,j)=>{const d=new Ve;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return S(-2);const l=t.byteLength;let s=2;for(;s<l;){if(t.getUint16(s+2,!1)<=8)return S(-1);const m=t.getUint16(s,!1);if(s+=2,m==65505){if(t.getUint32(s+=2,!1)!=1165519206)return S(-1);const v=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,v);const n=t.getUint16(s,v);s+=2;for(let i=0;i<n;i++)if(t.getUint16(s+12*i,v)==274)return S(t.getUint16(s+12*i+8,v))}else{if((65280&m)!=65280)break;s+=t.getUint16(s,!1)}}return S(-1)},d.onerror=e=>j(e),d.readAsArrayBuffer(_)}))}function rt(_,S){const{width:j}=_,{height:d}=_,{maxWidthOrHeight:e}=S;let t,l=_;return isFinite(e)&&(j>e||d>e)&&([l,t]=Oe(j,d),j>d?(l.width=e,l.height=d/j*e):(l.width=j/d*e,l.height=e),t.drawImage(_,0,0,l.width,l.height),pe(_)),l}function nt(_,S){const{width:j}=_,{height:d}=_,[e,t]=Oe(j,d);switch(S>4&&S<9?(e.width=d,e.height=j):(e.width=j,e.height=d),S){case 2:t.transform(-1,0,0,1,j,0);break;case 3:t.transform(-1,0,0,-1,j,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,j);break;case 8:t.transform(0,-1,1,0,0,j)}return t.drawImage(_,0,0,j,d),pe(_),e}function Ge(_,S,j=0){return new Promise((function(d,e){let t,l,s,m,v,n,i,r,a,h,x,C,w,L,T,I,N,g,R,c;function f(A=5){if(S.signal&&S.signal.aborted)throw S.signal.reason;t+=A,S.onProgress(Math.min(t,100))}function b(A){if(S.signal&&S.signal.aborted)throw S.signal.reason;t=Math.min(Math.max(A,t),100),S.onProgress(t)}return t=j,l=S.maxIteration||10,s=1024*S.maxSizeMB*1024,f(),Ne(_,S).then(function(A){try{return[,m]=A,f(),v=rt(m,S),f(),new Promise((function(y,U){var p;if(!(p=S.exifOrientation))return tt(_).then(function(u){try{return p=u,E.call(this)}catch(o){return U(o)}}.bind(this),U);function E(){return y(p)}return E.call(this)})).then(function(y){try{return n=y,f(),_e().then(function(U){try{return i=U?v:nt(v,n),f(),r=S.initialQuality||1,a=S.fileType||_.type,Le(i,a,_.name,_.lastModified,r).then(function(p){try{{let u=function(){if(l--&&(T>s||T>w)){let k,F;return k=c?.95*R.width:R.width,F=c?.95*R.height:R.height,[N,g]=Oe(k,F),g.drawImage(R,0,0,k,F),r*=a==="image/png"?.85:.95,Le(N,a,_.name,_.lastModified,r).then((function(P){try{return I=P,pe(R),R=N,T=I.size,b(Math.min(99,Math.floor((L-T)/(L-s)*100))),u}catch(z){return e(z)}}),e)}return[1]},o=function(){return pe(R),pe(N),pe(v),pe(i),pe(m),b(100),d(I)};if(h=p,f(),x=h.size>s,C=h.size>_.size,!x&&!C)return b(100),d(h);var E;return w=_.size,L=h.size,T=L,R=i,c=!S.alwaysKeepResolution&&x,(E=function(k){for(;k;){if(k.then)return void k.then(E,e);try{if(k.pop){if(k.length)return k.pop()?o.call(this):k;k=u}else k=k.call(this)}catch(F){return e(F)}}}.bind(this))(u)}}catch(u){return e(u)}}.bind(this),e)}catch(p){return e(p)}}.bind(this),e)}catch(U){return e(U)}}.bind(this),e)}catch(y){return e(y)}}.bind(this),e)}))}const gt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ze;function mt(_,S){return new Promise(((j,d)=>{ze||(ze=(function(l){const s=[];return s.push(l),URL.createObjectURL(new Blob(s))})(gt));const e=new Worker(ze);e.addEventListener("message",(function(l){if(S.signal&&S.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return d(new Error(l.data.error)),void e.terminate();j(l.data.file),e.terminate()}else S.onProgress(l.data.progress)})),e.addEventListener("error",d),S.signal&&S.signal.addEventListener("abort",(()=>{d(S.signal.reason),e.terminate()})),e.postMessage({file:_,imageCompressionLibUrl:S.libURL,options:{...S,onProgress:void 0,signal:void 0}})}))}function oe(_,S){return new Promise((function(j,d){let e,t,l,s,m,v;if(e={...S},l=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{l=a,typeof s=="function"&&s(l)},!(_ instanceof Blob||_ instanceof ht))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(_.type))return d(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||v)return Ge(_,e).then(function(a){try{return t=a,r.call(this)}catch(h){return d(h)}}.bind(this),d);var n=function(){try{return r.call(this)}catch(a){return d(a)}}.bind(this),i=function(a){try{return Ge(_,e).then((function(h){try{return t=h,n()}catch(x){return d(x)}}),d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",mt(_,e).then((function(a){try{return t=a,n()}catch{return i()}}),i)}catch{i()}function r(){try{t.name=_.name,t.lastModified=_.lastModified}catch{}try{e.preserveExif&&_.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===_.type)&&(t=$e(_,t))}catch{}return j(t)}}))}oe.getDataUrlFromFile=Xe,oe.getFilefromDataUrl=Qe,oe.loadImage=Ye,oe.drawImageInCanvas=et,oe.drawFileInCanvas=Ne,oe.canvasToFile=Le,oe.getExifOrientation=tt,oe.handleMaxWidthOrHeight=rt,oe.followExifOrientation=nt,oe.cleanupCanvasMemory=pe,oe.isAutoOrientationInBrowser=_e,oe.approximateBelowMaximumCanvasSizeOfBrowser=Je,oe.copyExifWithoutOrientation=$e,oe.getBrowserName=Ce,oe.version="2.0.2";async function pt(_){const S={maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.8};try{const j=await oe(_,S);return console.log("Tamao original:",(_.size/1024/1024).toFixed(2),"MB"),console.log("Tamao comprimido:",(j.size/1024/1024).toFixed(2),"MB"),j}catch(j){return console.error("Error al comprimir imagen:",j),_}}function bt(_){return["image/jpeg","image/jpg","image/png","image/webp"].includes(_.type)?_.size>10485760?(alert("La imagen es demasiado grande. El tamao mximo es 10MB."),!1):!0:(alert("Por favor selecciona una imagen vlida (JPG, PNG o WebP)"),!1)}function vt(_){return URL.createObjectURL(_)}function xt(){const[_,S]=Re.useState({nombre:"",telefono:"",email:""}),[j,d]=Re.useState(null),[e,t]=Re.useState(null),[l,s]=Re.useState(!1),[m,v]=Re.useState(null),n=a=>{const{name:h,value:x}=a.target;S(C=>({...C,[h]:x})),v(null)},i=a=>{const h=a.target.files?.[0];if(!h)return;if(!bt(h)){d(null),t(null);return}d(h);const x=vt(h);t(x),v(null)},r=async a=>{if(a.preventDefault(),v(null),!_.nombre.trim()){v("Por favor ingresa tu nombre completo");return}if(!_.telefono.trim()){v("Por favor ingresa tu telfono");return}if(!_.email.trim()||!_.email.includes("@")){v("Por favor ingresa un email vlido");return}if(!j){v("Por favor toma una foto para tu gafete");return}s(!0);try{const h=await pt(j),x=await at(h),C=await st({nombre:_.nombre.trim(),telefono:_.telefono.trim(),email:_.email.trim(),foto_url:x});window.location.href=`/bienvenida/${C}`}catch(h){console.error("Error al registrar:",h),v(h instanceof Error?h.message:"Ocurri un error al registrarte. Por favor intenta de nuevo."),s(!1)}};return Q.jsx("section",{id:"registro-form",className:"min-h-screen flex items-center justify-center px-6 py-12",children:Q.jsx("div",{className:"w-full max-w-md",children:Q.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-8 shadow-2xl border border-victoria-gold/20",children:[Q.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-victoria-gold text-center mb-8",children:"Registro"}),Q.jsxs("form",{onSubmit:r,className:"space-y-6",children:[Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-white/80 mb-2",children:"Nombre Completo *"}),Q.jsx("input",{type:"text",id:"nombre",name:"nombre",value:_.nombre,onChange:n,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-victoria-gold focus:border-transparent transition-all",placeholder:"Ingresa tu nombre",disabled:l})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-white/80 mb-2",children:"Telfono *"}),Q.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:_.telefono,onChange:n,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-victoria-gold focus:border-transparent transition-all",placeholder:"+1 (555) 123-4567",disabled:l})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email *"}),Q.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:n,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-victoria-gold focus:border-transparent transition-all",placeholder:"tu@email.com",disabled:l})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"foto",className:"block text-sm font-medium text-white/80 mb-2",children:"Foto para tu Gafete *"}),e&&Q.jsx("div",{className:"mb-4 flex justify-center",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("img",{src:e,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-victoria-gold shadow-lg"}),Q.jsx("button",{type:"button",onClick:()=>{d(null),t(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",disabled:l,children:Q.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),Q.jsx("label",{htmlFor:"foto",className:"flex items-center justify-center w-full px-4 py-3 bg-victoria-gold/20 border-2 border-dashed border-victoria-gold/50 rounded-lg cursor-pointer hover:bg-victoria-gold/30 transition-all",children:Q.jsxs("div",{className:"text-center",children:[Q.jsxs("svg",{className:"mx-auto h-12 w-12 text-victoria-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Q.jsx("p",{className:"mt-2 text-sm text-white/80",children:e?"Cambiar foto":"Tomar foto con cmara frontal"})]})}),Q.jsx("input",{type:"file",id:"foto",name:"foto",accept:"image/*",capture:"user",onChange:i,className:"hidden",disabled:l})]}),m&&Q.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-200 px-4 py-3 rounded-lg text-sm",children:m}),Q.jsx("button",{type:"submit",disabled:l,className:"w-full bg-victoria-gold hover:bg-yellow-600 text-victoria-black font-bold py-4 px-6 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center",children:l?Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"spinner mr-3"}),"Registrando..."]}):"Completar Registro"})]}),Q.jsx("p",{className:"mt-6 text-xs text-white/50 text-center",children:"Tu informacin es segura y solo se usar para este evento."})]})})})}export{xt as default};
