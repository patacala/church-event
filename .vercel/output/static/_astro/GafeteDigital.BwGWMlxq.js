import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{r as R}from"./index.DiEladB3.js";function B(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const z=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function m(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let g=null;function I(e={}){return g||(e.includeStyleProperties?(g=e.includeStyleProperties,g):(g=m(window.getComputedStyle(document.documentElement)),g))}function x(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function G(e){const t=x(e,"border-left-width"),r=x(e,"border-right-width");return e.clientWidth+t+r}function N(e){const t=x(e,"border-top-width"),r=x(e,"border-bottom-width");return e.clientHeight+t+r}function A(e,t={}){const r=t.width||G(e),n=t.height||N(e);return{width:r,height:n}}function q(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const f=16384;function X(e){(e.width>f||e.height>f)&&(e.width>f&&e.height>f?e.width>e.height?(e.height*=f/e.width,e.width=f):(e.width*=f/e.height,e.height=f):e.width>f?(e.height*=f/e.width,e.width=f):(e.width*=f/e.height,e.height=f))}function y(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function K(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function J(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),i=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),K(a)}const u=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||u(r,t)};function Q(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Y(e,t){return I(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function Z(e,t,r,n){const a=`.${e}:${t}`,i=r.cssText?Q(r):Y(r,n);return document.createTextNode(`${a}{${i}}`)}function j(e,t,r,n){const a=window.getComputedStyle(e,r),i=a.getPropertyValue("content");if(i===""||i==="none")return;const s=z();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(Z(s,r,a,n)),t.appendChild(o)}function ee(e,t,r){j(e,t,":before",r),j(e,t,":after",r)}const P="application/font-woff",T="image/jpeg",te={woff:P,woff2:P,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:T,jpeg:T,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function re(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function E(e){const t=re(e).toLowerCase();return te[t]||""}function ne(e){return e.split(/,/)[1]}function v(e){return e.search(/^(data:)/)!==-1}function ie(e,t){return`data:${t};base64,${e}`}async function D(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((i,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{i(r({res:n,result:o.result}))}catch(c){s(c)}},o.readAsDataURL(a)})}const S={};function ae(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function C(e,t,r){const n=ae(e,t,r.includeQueryParams);if(S[n]!=null)return S[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await D(e,r.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),ne(o)));a=ie(i,t)}catch(i){a=r.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return S[n]=a,a}async function se(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):y(t)}async function oe(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s?.drawImage(e,0,0,i.width,i.height);const o=i.toDataURL();return y(o)}const r=e.poster,n=E(r),a=await C(r,n,t);return y(a)}async function le(e,t){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await p(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function ce(e,t){return u(e,HTMLCanvasElement)?se(e):u(e,HTMLVideoElement)?oe(e,t):u(e,HTMLIFrameElement)?le(e,t):e.cloneNode(U(e))}const ue=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",U=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function fe(e,t,r){var n,a;if(U(t))return t;let i=[];return ue(e)&&e.assignedNodes?i=m(e.assignedNodes()):u(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?i=m(e.contentDocument.body.childNodes):i=m(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||u(e,HTMLVideoElement)||await i.reduce((s,o)=>s.then(()=>p(o,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function de(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):I(r).forEach(i=>{let s=a.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),u(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),n.setProperty(i,s,a.getPropertyPriority(i))})}function he(e,t){u(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),u(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function me(e,t){if(u(e,HTMLSelectElement)){const n=Array.from(t.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function ge(e,t,r){return u(t,Element)&&(de(e,t,r),ee(e,t,r),he(e,t),me(e,t)),t}async function we(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let i=0;i<r.length;i++){const o=r[i].getAttribute("xlink:href");if(o){const c=e.querySelector(o),d=document.querySelector(o);!c&&d&&!n[o]&&(n[o]=await p(d,t,!0))}}const a=Object.values(n);if(a.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(i,"defs");s.appendChild(o);for(let c=0;c<a.length;c++)o.appendChild(a[c]);e.appendChild(s)}return e}async function p(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>ce(n,t)).then(n=>fe(e,n,t)).then(n=>ge(e,n,t)).then(n=>we(n,t))}const V=/url\((['"]?)([^'"]+?)\1\)/g,xe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ye=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function pe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function be(e){const t=[];return e.replace(V,(r,n,a)=>(t.push(a),r)),t.filter(r=>!v(r))}async function Se(e,t,r,n,a){try{const i=r?B(t,r):t,s=E(t);let o;return a||(o=await C(i,s,n)),e.replace(pe(t),`$1${o}$3`)}catch{}return e}function ve(e,{preferredFontFormat:t}){return t?e.replace(ye,r=>{for(;;){const[n,,a]=xe.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function M(e){return e.search(V)!==-1}async function H(e,t,r){if(!M(e))return e;const n=ve(e,r);return be(n).reduce((i,s)=>i.then(o=>Se(o,s,t,r)),Promise.resolve(n))}async function w(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const i=await H(a,null,r);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function Ee(e,t){await w("background",e,t)||await w("background-image",e,t),await w("mask",e,t)||await w("-webkit-mask",e,t)||await w("mask-image",e,t)||await w("-webkit-mask-image",e,t)}async function Ce(e,t){const r=u(e,HTMLImageElement);if(!(r&&!v(e.src))&&!(u(e,SVGImageElement)&&!v(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await C(n,E(n),t);await new Promise((i,s)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...c)=>{try{i(t.onImageErrorHandler(...c))}catch(d){s(d)}}:s;const o=e;o.decode&&(o.decode=i),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Re(e,t){const n=m(e.childNodes).map(a=>O(a,t));await Promise.all(n).then(()=>e)}async function O(e,t){u(e,Element)&&(await Ee(e,t),await Ce(e,t),await Re(e,t))}function je(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const L={};async function k(e){let t=L[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},L[e]=t,t}async function $(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,i=(r.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),D(o,t.fetchRequestInit,({result:c})=>(r=r.replace(s,`url(${c})`),[s,c]))});return Promise.all(i).then(()=>r)}function F(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let c=i.exec(n);if(c===null){if(c=o.exec(n),c===null)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;t.push(c[0])}return t}async function Pe(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{m(a.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let o=s+1;const c=i.href,d=k(c).then(h=>$(h,t)).then(h=>F(h).forEach(b=>{try{a.insertRule(b,b.startsWith("@import")?o+=1:a.cssRules.length)}catch(W){console.error("Error inserting rule from remote css",{rule:b,error:W})}})).catch(h=>{console.error("Error loading remote css",h.toString())});n.push(d)}})}catch(i){const s=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&n.push(k(a.href).then(o=>$(o,t)).then(o=>F(o).forEach(c=>{s.insertRule(c,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",i)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{m(a.cssRules||[]).forEach(i=>{r.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),r))}function Te(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>M(t.style.getPropertyValue("src")))}async function Le(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=m(e.ownerDocument.styleSheets),n=await Pe(r,t);return Te(n)}function _(e){return e.trim().replace(/["']/g,"")}function ke(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(i=>{t.add(_(i))}),Array.from(n.children).forEach(i=>{i instanceof HTMLElement&&r(i)})}return r(e),t}async function $e(e,t){const r=await Le(e,t),n=ke(e);return(await Promise.all(r.filter(i=>n.has(_(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return H(i.cssText,s,t)}))).join(`
`)}async function Fe(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await $e(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Ie(e,t={}){const{width:r,height:n}=A(e,t),a=await p(e,t,!0);return await Fe(a,t),await O(a,t),je(a,t),await J(a,r,n)}async function Ae(e,t={}){const{width:r,height:n}=A(e,t),a=await Ie(e,t),i=await y(a),s=document.createElement("canvas"),o=s.getContext("2d"),c=t.pixelRatio||q(),d=t.canvasWidth||r,h=t.canvasHeight||n;return s.width=d*c,s.height=h*c,t.skipAutoScale||X(s),s.style.width=`${d}`,s.style.height=`${h}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(i,0,0,s.width,s.height),s}async function De(e,t={}){return(await Ae(e,t)).toDataURL()}function Me({asistente:e}){const[t,r]=R.useState(!1),n=R.useRef(null),a=async()=>{r(!0);try{const i={title:"Mi Gafete - The Victory Church",text:"¡Ya estoy registrado en el evento de The Victory Church! Mira mi gafete digital.",url:window.location.href};if(n.current&&navigator.canShare)try{const s=await De(n.current,{cacheBust:!0,quality:.95,backgroundColor:"#000000"}),o=await(await fetch(s)).blob(),c=new File([o],"gafete.png",{type:"image/png"});if(navigator.canShare({files:[c]})){await navigator.share({...i,files:[c]}),r(!1);return}}catch(s){console.warn("No se pudo capturar imagen, compartiendo solo URL:",s)}navigator.share?await navigator.share(i):(await navigator.clipboard.writeText(window.location.href),alert("Link copiado al portapapeles!"))}catch(i){if(i.name!=="AbortError"){console.error("Error al compartir:",i);try{await navigator.clipboard.writeText(window.location.href),alert("Link copiado al portapapeles!")}catch(s){console.error("Error al copiar:",s)}}}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 py-12",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"text-center animate-fadeInUp",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-victoria-gold rounded-full mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-victoria-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-victoria-gold mb-2",children:"¡Registro Exitoso!"}),l.jsx("p",{className:"text-white/80",children:"Tu gafete digital está listo"})]}),l.jsxs("div",{ref:n,className:"bg-gradient-to-br from-victoria-black via-gray-900 to-victoria-black rounded-2xl p-8 shadow-2xl border-4 border-victoria-gold relative overflow-hidden animate-fadeInUp",style:{animationDelay:"0.2s"},children:[l.jsx("div",{className:"absolute inset-0 opacity-5",children:l.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-victoria-gold transform rotate-45"})}),l.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"font-display text-xl md:text-2xl text-victoria-gold font-bold tracking-wider",children:"The Victory Church"}),l.jsx("div",{className:"w-24 h-1 bg-victoria-gold mx-auto mt-2 rounded-full"})]}),e.foto_url&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-victoria-gold rounded-full animate-pulse-gold"}),l.jsx("img",{src:e.foto_url,alt:e.nombre,className:"relative w-40 h-40 rounded-full object-cover border-4 border-victoria-gold shadow-2xl"})]})}),l.jsx("div",{children:l.jsx("h3",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:e.nombre})}),l.jsx("div",{className:"py-4",children:l.jsx("p",{className:"text-2xl md:text-3xl font-display text-victoria-gold font-bold",children:"¡Bienvenido a Casa!"})}),l.jsxs("div",{className:"pt-4 border-t border-white/10",children:[l.jsx("p",{className:"text-sm text-white/60",children:"28 de Febrero, 2026"}),l.jsx("p",{className:"text-sm text-white/60",children:"6:30 PM"})]})]}),l.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-victoria-gold/30 rounded-tl-2xl"}),l.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-victoria-gold/30 rounded-tr-2xl"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-victoria-gold/30 rounded-bl-2xl"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-victoria-gold/30 rounded-br-2xl"})]}),l.jsxs("div",{className:"space-y-4 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[l.jsx("button",{onClick:a,disabled:t,className:"w-full bg-victoria-gold hover:bg-yellow-600 text-victoria-black font-bold py-4 px-6 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center",children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner mr-3 border-victoria-black"}),"Compartiendo..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Compartir mi Gafete"]})}),l.jsx("a",{href:"/",className:"block w-full bg-white/10 hover:bg-white/20 text-white font-medium py-4 px-6 rounded-lg border border-white/20 transition-all duration-300 text-center",children:"Registrar a otra persona"})]}),l.jsx("div",{className:"text-center pt-4",children:l.jsx("a",{href:"/muro",className:"text-victoria-gold hover:text-yellow-500 text-sm underline transition-colors",children:"Ver muro de asistentes"})})]})})}export{Me as default};
